import requests
from .utils import invoke_rest_endpoint
from connectors.core.connector import get_logger, ConnectorError
from .constants import LOGGER_NAME
logger = get_logger(LOGGER_NAME)


def search_per_prodct(config, params):
    vendor = params.get('vendor')
    product = params.get('product')
    if not vendor or not product:
        raise ConnectorError('Missing required input')
    endpoint = '/search/{0}/{1}'.format(vendor, product)
    api_response = invoke_rest_endpoint(config, endpoint, 'GET')
    return api_response
